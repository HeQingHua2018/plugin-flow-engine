"use strict";(self.webpackChunk_plugin_flow_engine_doc=self.webpackChunk_plugin_flow_engine_doc||[]).push([[149],{86866:function(s,d,a){a.r(d);var t=a(73074),c=a(13027),r=a(95638),x=a(84931),I=a(24249),l=a(35070),v=a(8942),p=a(57452),_=a(462),u=a(764),o=a(44194),e=a(21979),n=a(31549);function i(){return(0,n.jsx)(_.dY,{children:(0,n.jsx)(o.Suspense,{fallback:(0,n.jsx)(u.Z,{}),children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"markdown",children:[(0,n.jsxs)("h1",{id:"ui-\u6A21\u5757",children:[(0,n.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#ui-\u6A21\u5757",children:(0,n.jsx)("span",{className:"icon icon-link"})}),"UI \u6A21\u5757"]}),(0,n.jsxs)("h2",{id:"\u6A21\u5757\u6982\u8FF0",children:[(0,n.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#\u6A21\u5757\u6982\u8FF0",children:(0,n.jsx)("span",{className:"icon icon-link"})}),"\u6A21\u5757\u6982\u8FF0"]}),(0,n.jsx)("p",{children:e.texts[0].value}),(0,n.jsxs)("h2",{id:"\u529F\u80FD",children:[(0,n.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#\u529F\u80FD",children:(0,n.jsx)("span",{className:"icon icon-link"})}),"\u529F\u80FD"]}),(0,n.jsxs)("ul",{children:[(0,n.jsxs)("li",{children:[e.texts[1].value,(0,n.jsx)("code",{children:e.texts[2].value}),e.texts[3].value,(0,n.jsx)("code",{children:e.texts[4].value}),e.texts[5].value]}),(0,n.jsxs)("li",{children:[e.texts[6].value,(0,n.jsx)("code",{children:e.texts[7].value}),e.texts[8].value,(0,n.jsx)("code",{children:e.texts[9].value}),e.texts[10].value]}),(0,n.jsxs)("li",{children:[e.texts[11].value,(0,n.jsx)("code",{children:e.texts[12].value}),e.texts[13].value,(0,n.jsx)("code",{children:e.texts[14].value}),e.texts[15].value]}),(0,n.jsxs)("li",{children:[e.texts[16].value,(0,n.jsx)("code",{children:e.texts[17].value}),e.texts[18].value,(0,n.jsx)("code",{children:e.texts[19].value}),e.texts[20].value,(0,n.jsx)("code",{children:e.texts[21].value}),e.texts[22].value]}),(0,n.jsxs)("li",{children:[e.texts[23].value,(0,n.jsx)("code",{children:e.texts[24].value}),e.texts[25].value,(0,n.jsx)("code",{children:e.texts[26].value}),e.texts[27].value]})]}),(0,n.jsxs)("h2",{id:"\u5B89\u88C5",children:[(0,n.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#\u5B89\u88C5",children:(0,n.jsx)("span",{className:"icon icon-link"})}),"\u5B89\u88C5"]}),(0,n.jsx)(l.Z,{lang:"bash",children:e.texts[28].value}),(0,n.jsx)("p",{children:e.texts[29].value}),(0,n.jsx)(l.Z,{lang:"bash",children:e.texts[30].value}),(0,n.jsxs)("h2",{id:"\u793A\u4F8B",children:[(0,n.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#\u793A\u4F8B",children:(0,n.jsx)("span",{className:"icon icon-link"})}),"\u793A\u4F8B"]})]}),(0,n.jsx)(_.Dl,{demo:{id:"docs-modules-ui-demo-0"},previewerProps:{}}),(0,n.jsxs)("div",{className:"markdown",children:[(0,n.jsxs)("h2",{id:"\u63D2\u4EF6-ui-\u6CE8\u518C\u4E0E\u89E3\u6790",children:[(0,n.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#\u63D2\u4EF6-ui-\u6CE8\u518C\u4E0E\u89E3\u6790",children:(0,n.jsx)("span",{className:"icon icon-link"})}),"\u63D2\u4EF6 UI \u6CE8\u518C\u4E0E\u89E3\u6790"]}),(0,n.jsxs)("ul",{children:[(0,n.jsxs)("li",{children:[(0,n.jsx)("code",{children:e.texts[31].value}),e.texts[32].value,(0,n.jsx)("code",{children:e.texts[33].value}),e.texts[34].value,(0,n.jsx)("code",{children:e.texts[35].value}),e.texts[36].value]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("code",{children:e.texts[37].value}),e.texts[38].value,(0,n.jsx)("code",{children:e.texts[39].value}),e.texts[40].value,(0,n.jsx)("code",{children:e.texts[41].value}),e.texts[42].value,(0,n.jsx)("code",{children:e.texts[43].value}),e.texts[44].value]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("code",{children:e.texts[45].value}),e.texts[46].value,(0,n.jsx)("code",{children:e.texts[47].value}),e.texts[48].value,(0,n.jsx)("code",{children:e.texts[49].value}),e.texts[50].value,(0,n.jsx)("code",{children:e.texts[51].value}),e.texts[52].value]})]}),(0,n.jsx)("p",{children:e.texts[53].value}),(0,n.jsx)(l.Z,{lang:"ts",children:e.texts[54].value}),(0,n.jsx)("p",{children:e.texts[55].value}),(0,n.jsx)(l.Z,{lang:"ts",children:e.texts[56].value}),(0,n.jsx)("p",{children:e.texts[57].value}),(0,n.jsx)(l.Z,{lang:"ts",children:e.texts[58].value}),(0,n.jsx)("p",{children:e.texts[59].value}),(0,n.jsxs)("ul",{children:[(0,n.jsxs)("li",{children:[e.texts[60].value,(0,n.jsx)("code",{children:e.texts[61].value}),e.texts[62].value,(0,n.jsx)("code",{children:e.texts[63].value}),e.texts[64].value]}),(0,n.jsxs)("li",{children:[e.texts[65].value,(0,n.jsx)("code",{children:e.texts[66].value}),e.texts[67].value,(0,n.jsx)("code",{children:e.texts[68].value}),e.texts[69].value,(0,n.jsx)("code",{children:e.texts[70].value}),e.texts[71].value]}),(0,n.jsxs)("li",{children:[e.texts[72].value,(0,n.jsx)("code",{children:e.texts[73].value}),e.texts[74].value,(0,n.jsx)("code",{children:e.texts[75].value}),e.texts[76].value,(0,n.jsx)("code",{children:e.texts[77].value}),e.texts[78].value,(0,n.jsx)("code",{children:e.texts[79].value}),e.texts[80].value,(0,n.jsx)("code",{children:e.texts[81].value}),e.texts[82].value,(0,n.jsx)("code",{children:e.texts[83].value}),e.texts[84].value,(0,n.jsx)("code",{children:e.texts[85].value}),e.texts[86].value,(0,n.jsx)("code",{children:e.texts[87].value}),e.texts[88].value]})]})]})]})})})}d.default=i},21979:function(s,d,a){a.r(d),a.d(d,{texts:function(){return t}});const t=[{value:"\u63D0\u4F9B\u52A8\u6001\u914D\u7F6E\u8868\u5355\u3001\u63A7\u4EF6\u6CE8\u5165\u5668\u4E0E\u63D2\u4EF6 UI \u6CE8\u518C\u5668\uFF0C\u4E13\u6CE8\u754C\u9762\u6E32\u67D3\u4E0E\u4EA4\u4E92\uFF0C\u4E0D\u5305\u542B\u6267\u884C\u5F15\u64CE\u3002",paraId:0,tocIndex:1},{value:"\u52A8\u6001\u8868\u5355\uFF1A",paraId:1,tocIndex:2},{value:"DynamicConfigForm",paraId:1,tocIndex:2},{value:" \u57FA\u4E8E ",paraId:1,tocIndex:2},{value:"schema",paraId:1,tocIndex:2},{value:" \u81EA\u52A8\u6E32\u67D3\u3002",paraId:1,tocIndex:2},{value:"\u63A7\u4EF6\u6CE8\u5165\uFF1A",paraId:1,tocIndex:2},{value:"injectWidget",paraId:1,tocIndex:2},{value:"\u3001",paraId:1,tocIndex:2},{value:"getWidgets",paraId:1,tocIndex:2},{value:" \u652F\u6301\u6269\u5C55\u4E0E\u67E5\u8BE2\u3002",paraId:1,tocIndex:2},{value:"\u8282\u70B9\u8868\u5355\uFF1A",paraId:1,tocIndex:2},{value:"injectNodeSchema",paraId:1,tocIndex:2},{value:"\u3001",paraId:1,tocIndex:2},{value:"getNodeSchemas",paraId:1,tocIndex:2},{value:" \u7BA1\u7406\u8282\u70B9\u7C7B\u578B\u7684\u8868\u5355\u914D\u7F6E\u3002",paraId:1,tocIndex:2},{value:"\u63D2\u4EF6 UI\uFF1A",paraId:1,tocIndex:2},{value:"registerPluginUI",paraId:1,tocIndex:2},{value:"\u3001",paraId:1,tocIndex:2},{value:"bindPluginsToUI",paraId:1,tocIndex:2},{value:"\u3001",paraId:1,tocIndex:2},{value:"resolveNodeFormConfig",paraId:1,tocIndex:2},{value:" \u4E32\u8054\u201C\u63D2\u4EF6 \u2192 \u8868\u5355\u201D\u3002",paraId:1,tocIndex:2},{value:"Antd \u952E\u540D\uFF1A",paraId:1,tocIndex:2},{value:"AntdWidgetKeys",paraId:1,tocIndex:2},{value:" \u4E0E ",paraId:1,tocIndex:2},{value:"AntdWidgetKey",paraId:1,tocIndex:2},{value:" \u7EDF\u4E00\u63A7\u4EF6\u952E\u540D\u63D0\u793A\u3002",paraId:1,tocIndex:2},{value:`pnpm add @plugin-flow-engine/ui @plugin-flow-engine/type
`,paraId:2,tocIndex:3},{value:"\u5982\u9700\u5728 React \u4E2D\u4F7F\u7528\uFF1A",paraId:3,tocIndex:3},{value:`pnpm add react react-dom
`,paraId:4,tocIndex:3},{value:"registerPluginUI(nodeType, ui)",paraId:5,tocIndex:5},{value:"\uFF1A\u5728 UI \u5C42\u624B\u52A8\u6CE8\u518C\u67D0\u4E2A\u63D2\u4EF6\u7684\u8868\u5355 ",paraId:5,tocIndex:5},{value:"schema",paraId:5,tocIndex:5},{value:" \u4E0E ",paraId:5,tocIndex:5},{value:"widgets",paraId:5,tocIndex:5},{value:"\uFF0C\u9002\u5408\u4E0D\u7ECF\u63D2\u4EF6\u7BA1\u7406\u5668\u7684\u573A\u666F\u6216\u6D4B\u8BD5\u3002",paraId:5,tocIndex:5},{value:"bindPluginsToUI(pm)",paraId:5,tocIndex:5},{value:"\uFF1A\u4ECE\u63D2\u4EF6\u7BA1\u7406\u5668\u8BFB\u53D6\u6BCF\u4E2A\u63D2\u4EF6\u7684 ",paraId:5,tocIndex:5},{value:"getNodeFormConfig()",paraId:5,tocIndex:5},{value:"\uFF0C\u6279\u91CF\u6CE8\u5165 ",paraId:5,tocIndex:5},{value:"schema",paraId:5,tocIndex:5},{value:" \u4E0E ",paraId:5,tocIndex:5},{value:"widgets",paraId:5,tocIndex:5},{value:"\u3002\u63A8\u8350\u5728\u5E94\u7528\u542F\u52A8\u65F6\u8C03\u7528\u4E00\u6B21\u3002",paraId:5,tocIndex:5},{value:"resolveNodeFormConfig(pm, nodeType)",paraId:5,tocIndex:5},{value:"\uFF1A\u89E3\u6790\u67D0\u8282\u70B9\u7C7B\u578B\u7684\u6700\u7EC8\u8868\u5355\u914D\u7F6E\u3002\u4F18\u5148\u4F7F\u7528 UI \u6CE8\u5165\u5668\u4E2D\u7684 ",paraId:5,tocIndex:5},{value:"schema",paraId:5,tocIndex:5},{value:"\uFF0C\u5426\u5219\u56DE\u9000\u5230\u63D2\u4EF6\u81EA\u8EAB\u7684 ",paraId:5,tocIndex:5},{value:"schema",paraId:5,tocIndex:5},{value:"\uFF1B\u540C\u65F6\u786E\u4FDD\u63D2\u4EF6\u63D0\u4F9B\u7684 ",paraId:5,tocIndex:5},{value:"widgets",paraId:5,tocIndex:5},{value:" \u88AB\u6CE8\u5165\u3002",paraId:5,tocIndex:5},{value:"\u793A\u4F8B 1\uFF1A\u6279\u91CF\u7ED1\u5B9A\u63D2\u4EF6 UI",paraId:6,tocIndex:5},{value:`import { PluginManagerInstance, BaseNodePlugin } from '@plugin-flow-engine/core';
import { bindPluginsToUI } from '@plugin-flow-engine/ui';

class MyActionPlugin extends BaseNodePlugin {
  pluginNodeType = 'MyAction';
  pluginNodeTypeName = '\u6211\u7684\u52A8\u4F5C';
  getNodeFormConfig() {
    return {
      schema: {
        type: 'MyAction',
        label: '\u6211\u7684\u52A8\u4F5C\u914D\u7F6E',
        config: [
          { field: 'title', label: '\u6807\u9898', type: 'ant_Input' },
        ],
      },
      widgets: {
        'json-editor': ({ value, onChange }: any) => (
          <textarea value={JSON.stringify(value ?? {}, null, 2)} onChange={(e) => onChange(JSON.parse(e.target.value || '{}'))} />
        ),
      },
    };
  }
}

const pm = PluginManagerInstance();
pm.registerPlugin(new MyActionPlugin());

// \u5C06\u6240\u6709\u63D2\u4EF6\u7684 schema \u4E0E widgets \u6CE8\u5165\u5230 UI
bindPluginsToUI(pm);
`,paraId:7,tocIndex:5},{value:"\u793A\u4F8B 2\uFF1A\u5728\u8FD0\u884C\u65F6\u89E3\u6790\u8282\u70B9\u7684\u8868\u5355\u914D\u7F6E",paraId:8,tocIndex:5},{value:`import { resolveNodeFormConfig } from '@plugin-flow-engine/ui';
import { PluginManagerInstance } from '@plugin-flow-engine/core';

const pm = PluginManagerInstance();
const { schema } = resolveNodeFormConfig(pm, 'MyAction');
// \u5982\u5728 FlowView \u4E2D\uFF1A\u6253\u5F00\u62BD\u5C49\u65F6\u6839\u636E node.data.pluginNodeType \u89E3\u6790
// const { schema } = resolveNodeFormConfig(pm, node.data.pluginNodeType);
`,paraId:9,tocIndex:5},{value:"\u793A\u4F8B 3\uFF1A\u624B\u52A8\u6CE8\u518C\u67D0\u63D2\u4EF6\u7684 UI \u5143\u6570\u636E",paraId:10,tocIndex:5},{value:`import { registerPluginUI } from '@plugin-flow-engine/ui';

registerPluginUI('MyAction', {
  schema: {
    type: 'MyAction',
    label: '\u6211\u7684\u52A8\u4F5C\u914D\u7F6E',
    config: [
      { field: 'title', label: '\u6807\u9898', type: 'ant_Input' },
    ],
  },
  widgets: {
    'json-editor': /* React \u7EC4\u4EF6 */ (() => null) as any,
  },
});
`,paraId:11,tocIndex:5},{value:"\u884C\u4E3A\u8BF4\u660E",paraId:12,tocIndex:5},{value:"\u6CE8\u5165\u4F18\u5148\u7EA7\uFF1AUI \u6CE8\u5165\u5668\u4E2D\u7684 ",paraId:13,tocIndex:5},{value:"schema",paraId:13,tocIndex:5},{value:" \u4F18\u5148\uFF1B\u672A\u6CE8\u5165\u5219\u56DE\u9000\u5230\u63D2\u4EF6\u63D0\u4F9B\u7684 ",paraId:13,tocIndex:5},{value:"schema",paraId:13,tocIndex:5},{value:"\u3002",paraId:13,tocIndex:5},{value:"\u81EA\u52A8\u6CE8\u5165\uFF1A",paraId:13,tocIndex:5},{value:"bindPluginsToUI(pm)",paraId:13,tocIndex:5},{value:" \u4F1A\u81EA\u52A8\u6CE8\u5165\u63D2\u4EF6\u7684 ",paraId:13,tocIndex:5},{value:"schema",paraId:13,tocIndex:5},{value:" \u4E0E ",paraId:13,tocIndex:5},{value:"widgets",paraId:13,tocIndex:5},{value:"\u3002",paraId:13,tocIndex:5},{value:"\u515C\u5E95\u5904\u7406\uFF1A\u5373\u4F7F\u672A\u8C03\u7528 ",paraId:13,tocIndex:5},{value:"bindPluginsToUI",paraId:13,tocIndex:5},{value:"\uFF0C",paraId:13,tocIndex:5},{value:"resolveNodeFormConfig(pm, nodeType)",paraId:13,tocIndex:5},{value:" \u4E5F\u4F1A\u8FD4\u56DE\u63D2\u4EF6\u7684 ",paraId:13,tocIndex:5},{value:"schema",paraId:13,tocIndex:5},{value:" \u5E76\u81EA\u52A8\u6CE8\u5165\u5176 ",paraId:13,tocIndex:5},{value:"widgets",paraId:13,tocIndex:5},{value:"\uFF0C\u56E0\u6B64\u8868\u5355\u53EF\u6B63\u5E38\u6E32\u67D3\uFF1B\u4F46\u8BE5 ",paraId:13,tocIndex:5},{value:"schema",paraId:13,tocIndex:5},{value:" \u4E0D\u4F1A\u8BB0\u5F55\u8FDB\u6CE8\u5165\u5668\u7684\u6CE8\u518C\u8868\uFF08",paraId:13,tocIndex:5},{value:"getNodeSchemas()",paraId:13,tocIndex:5},{value:" \u67E5\u770B\u4E0D\u5230\uFF09\uFF0C\u5982\u9700\u5168\u5C40\u67E5\u8BE2\u6216\u8986\u5199\uFF0C\u5EFA\u8BAE\u8C03\u7528 ",paraId:13,tocIndex:5},{value:"bindPluginsToUI",paraId:13,tocIndex:5},{value:" \u6216 ",paraId:13,tocIndex:5},{value:"registerPluginUI",paraId:13,tocIndex:5},{value:"\u3002",paraId:13,tocIndex:5}]}}]);
